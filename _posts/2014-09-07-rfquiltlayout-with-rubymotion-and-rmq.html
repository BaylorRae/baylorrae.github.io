---
layout: post
title: Using RFQuiltLayout with RubyMotion and RMQ
date: 2014-09-07 13:07:11.000000000 -05:00
categories:
- has_many :through
- RMQ
- RubyMotion
tags:
- cocoapod
- rmq
- ruby
- ruby motion
- tutorial
- walkthrough
meta:
  dsq_thread_id: '2996677763'
---
<p><img class="alignleft size-medium wp-image-594" style="float: right; margin-left: 15px; width: 148px;" src="{{ site.baseurl }}/assets/Screen-Shot-2014-09-08-at-10.24.13-AM-180x300.png" alt="RFQuiltLayout with RubyMotion and RMQ" /><br />
<a href="https://github.com/bryceredd/RFQuiltLayout">RFQuiltLayout</a> extends <code>UICollectionViewLayout</code> to squeeze multiple different size boxes onto the screen. It's the equivalent of <a href="http://masonry.desandro.com/">Masonry</a> for iOS collection view cells.</p>
<p><!--more--></p>
<p>The RFQuiltLayout example uses Interface Builder for most of the setup, which was a challenge to map into code. I'm going to show you everything needed to change the default collection view layout for RubyMotion and RMQ.</p>
<div style="clear: both;"></div>
<p><strong>TL;DR;</strong> here's how to use RFQuiltLayout. The key is assigning the layout's delegate.</p>
<p>You can view the project source code on GitHub.<br />
<a href="https://github.com/BaylorRae/rubymotion-rfquiltlayout-demo">https://github.com/BaylorRae/rubymotion-rfquiltlayout-demo</a></p>
<p><script src="https://gist.github.com/BaylorRae/5c6d8d44c13c616b2729.js?file=collection_view_layout.rb"></script></p>
<h2>Step 1: Create an RMQ project</h2>
<p>If you already have a project you can skip this step. We are going to create the RMQ project and add our collection view controller.</p>
<p><script src="https://gist.github.com/BaylorRae/5c6d8d44c13c616b2729.js?file=create-project.text"></script></p>
<h2>Step 2: Adding RFQuiltLayout to your project</h2>
<p>The next step is simple, install RFQuiltLayout. RFQuiltLayout can be installed as a cocoapod, which is Bundler for iOS/OSX.</p>
<p>In your <code>Gemfile</code> add/uncomment the <code>motion-cocoapods</code> gem.</p>
<p><script src="https://gist.github.com/BaylorRae/5c6d8d44c13c616b2729.js?file=Gemfile"></script>Now in your Rakefile add the pod to your build. You can find the latest version from [Cocoa Controls (RFQuiltLayout)][cocoa_controls_rfquilt_layout]<script src="https://gist.github.com/BaylorRae/5c6d8d44c13c616b2729.js?file=Rakefile"></script></p>
<p>Now that you have the CocoaPod added to your project you need to run two commands.</p>
<p><script src="https://gist.github.com/BaylorRae/5c6d8d44c13c616b2729.js?file=install_pods.text"></script>## Step 3: Remove the RMQ frame styles RFQuiltLayout positions and sets the size of each cell. As a result you don't need the default code provided by RMQ.<script src="https://gist.github.com/BaylorRae/5c6d8d44c13c616b2729.js?file=images_controller_stylesheet.diff"></script></p>
<p><script src="https://gist.github.com/BaylorRae/5c6d8d44c13c616b2729.js?file=images_cell_stylesheet.diff"></script>## Step 4: Add the RFQuiltLayoutDelegate methods At this point RFQuiltLayout is in place. The last step is adding the boxes for our demo. The `boxes` method creates 200 items with a random height to showcase RFQuiltLayout's awesomeness.<script src="https://gist.github.com/BaylorRae/5c6d8d44c13c616b2729.js?file=collection_view_content.rb"></script></p>
<p>Congratulations! You have added RFQuiltLayout to your UICollectionView.</p>
<p>View the project source code on GitHub.<br />
<a href="https://github.com/BaylorRae/rubymotion-rfquiltlayout-demo">https://github.com/BaylorRae/rubymotion-rfquiltlayout-demo</a></p>
