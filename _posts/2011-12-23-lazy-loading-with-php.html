---
layout: post
title: Lazy Loading with PHP
date: 2011-12-23 08:00:34.000000000 -06:00
categories:
- PHP
tags: []
meta:
  dsq_thread_id: '832219427'
---
<p>I've been looking through a lot of PHP projects on GitHub lately and I keep seeing people including all their classes on launch. And unfortunately it's the reason I decide not to use their code.</p>
<h2>What is Lazy Loading</h2>
<p>Lazy loading it a pattern of only including classes when they are needed. And fortunately enough PHP makes it super easy to implement.</p>
<p>[gist id="3559742" file="the_syntax.php"]</p>
<p>I realize that I could have used <code>require 'classes/user.php';</code>. But as the application grows and I have more classes I don't have to worry about including each file. I used this same pattern in my <a href="http://baylorrae.com/huck-php-testing-framework/">Huck PHP Testing Framework</a>.</p>
<p>In my framework my autoload setup worked like this though.</p>
<p>[gist id="3559742" file="huck_autoloader.php"]</p>
<p>This is my preferred way of autoloading because it allows multiple autoloaders to be registered. This way if someone includes <code>Huck</code> in their application that already has an <code>__autoload</code> in place, mine doesn't override it.</p>
<p>The <a href="http://php.net/substr">substr()</a> function is called to make sure the <code>$class_name</code> starts with <code>Huck_</code>. The second time I call it I remove <code>Huck_</code> so I get whatever is left.</p>
<p>Checkout the <a href="http://baylorrae.com/huck-php-testing-framework/">Huck Framework</a> to see how my file structure and <a href="https://github.com/BaylorRae/PHP-Huck/blob/master/Huck/Huck.php#L77-92">autoloader</a>.</p>
